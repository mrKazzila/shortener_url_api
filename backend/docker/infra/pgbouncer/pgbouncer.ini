[databases]
shortener_db = host=postgres port=5432 dbname=shortener_db

[pgbouncer]
listen_addr = 0.0.0.0
listen_port = 6432
unix_socket_dir =

pool_mode = transaction


max_client_conn = 2000


default_pool_size = 18
min_pool_size = 5
reserve_pool_size = 10
reserve_pool_timeout = 5.0


server_reset_query = DISCARD ALL
server_check_delay = 30
server_lifetime = 3600
server_idle_timeout = 600
query_wait_timeout = 5.0
query_timeout = 0
client_idle_timeout = 0


log_connections = 0
log_disconnections = 0
log_pooler_errors = 1
log_stats = 0
verbose = 0


auth_type = plain
auth_file = /etc/pgbouncer/userlist.txt


ignore_startup_parameters = application_name,extra_float_digits


server_tls_sslmode = disable
client_tls_sslmode = disable

admin_users = ${DB_USER}
stats_users = ${DB_USER}
